<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>[Title]</title>
		<link rel="stylesheet" href="css/codemirror.css">
		<link rel="stylesheet" href="css/normalize.min.css">
		<link rel="stylesheet" href="css/bootstrap.css">
		<link rel="stylesheet" href="css/main.css">
	</head>
	<body>
		<!--[if lt IE 8]>
			<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
		<![endif]-->
		<div id="left-coln">
			<div id="editor">
				<form style="position: relative;">
					<textarea id="CodeMirrorEditor" style="display: none;">/* your code here */</textarea>
				</form>
			</div>
		</div>
		
		<div id="right-coln">
			<div id="buttons">
				<button id="toggleVariableInfoShowButton" type="button" class="btn btn-primary" onclick="toggleVariableInfo();" data-toggle="tooltip" data-placement="bottom" title="Show Variables"><span class="glyphicon glyphicon-info-sign"> </span></button>
				<button id="toggleVariableInfoHideButton" type="button" class="btn btn-primary" onclick="toggleVariableInfo();" data-toggle="tooltip" data-placement="bottom" title="Hide Variables"><span class="glyphicon glyphicon-info-sign"> </span></button>
				<button type="button" class="btn btn-primary" onclick="loadCodeAndReset();playSimulation();" data-toggle="tooltip" data-placement="bottom" title="Restart with code changes [Alt+Enter]"><span class="glyphicon glyphicon-repeat"> </span></button>
				<button id="pauseButton" type="button" class="btn btn-primary" onclick="pauseSimulation();" data-toggle="tooltip" data-placement="bottom" title="Pause [Alt+P]"><span class="glyphicon glyphicon-pause"> </span></button>
				<button id="playButton" type="button" class="btn btn-primary" onclick="playSimulation();" data-toggle="tooltip" data-placement="bottom" title="Play [Alt+P]"><span class="glyphicon glyphicon-play"> </span></button>
				<button type="button" class="btn btn-primary" onclick="showPopup('#tipsPopup');" data-toggle="tooltip" data-placement="bottom" title="Tips"><span class="glyphicon glyphicon-question-sign"> </span></button>
				<button type="button" class="btn btn-primary" onclick="showSampleSolution();" data-toggle="tooltip" data-placement="bottom" title="Sample solution"><span class="glyphicon glyphicon-book"> </span></button>
				<button type="button" class="btn btn-primary" onclick="showPopup('#levelMenuPopup');" data-toggle="tooltip" data-placement="bottom" title="Level menu"><span class="glyphicon glyphicon-th"> </span></button>
				<pre id="variableInfo"></pre>
				<pre id="userMonitor"></pre>
			</div>
			<canvas id="cas"></canvas>
		</div>
		
		<div id="levelStartPopup" class="popup">
			<h1 id="levelTitle">[Title]</h1>
			<p id="levelDescription">[Description]</p>
			<p>Note: Your code for each level is saved in your browser.</p>
			
			<div class="centered">
				<button type="button" class="btn btn-primary" onclick="$('.popup').hide();playSimulation();"><span class="glyphicon glyphicon-play"> </span>&nbsp;&nbsp;Start</button>
				<button type="button" class="btn btn-primary" onclick="showPopup('#levelMenuPopup');"><span class="glyphicon glyphicon-th"> </span>&nbsp;&nbsp;Level menu</button>
			</div>
		</div>
		
		<div id="levelCompletePopup" class="popup">
			<h1>Level Complete!</h1>
			<p>You solved the level in <span id="levelSolvedTime"></span> seconds.</p>
			<div class="centered">
				<button type="button" class="btn btn-primary" onclick="showPopup(null);">OK</button>
				<button type="button" class="btn btn-primary" onclick="showPopup('#levelMenuPopup');"><span class="glyphicon glyphicon-th"> </span>&nbsp;&nbsp;Level menu</button>
			</div>
		</div>
		
		<div id="levelMenuPopup" class="popup">
			<h1>Select a level</h1>
			<div id="levelList" class="centered"></div>
		</div>

		<div id="tipsPopup" class="popup">
			<pre id="tipsText">
You can predict the future of the system by calling simulate(dt, controlFunc) on the model state. Example:

    // Example:
    // Simulates for 0.5 seconds. The input for the model is set to be the negative of its `x`.
    newState = state.simulate(0.5, function(s){ return -s.x ;})

simulate() returns a modified copy of the model state. 
The control function will be evaluated only once at the start of a simulate() call 
and held constant during the simulation, so choose a small dt.

You can view your own variables by calling `monitor(name,value)`. 
Call `clearMonitor()` at the beginning of your controlFunction!

If you need to, you can use global variables. 
Be careful not to create a name collision. Use a prefix, e.g. `cc_`.</pre>
			<div class="centered">
				<button type="button" class="btn btn-primary" onclick="showPopup(null);">Close</button>
			</div>
		</div>
		
		<script src="js/jquery-1.11.2.js"></script>
		<script src="js/numeric-1.2.6.js"></script>
		<script src="js/codemirror/codemirror.js"></script>
		<script src="js/codemirror/javascript.js"></script>
		<script src="js/codemirror/matchbrackets.js"></script>
		<script src="js/bootstrap.js"></script>	
		<script src="js/shortcut.js"></script>
		
		<script src="js/models/RocketLanding.js"></script>
		<script src="js/models/SinglePendulum.js"></script>
		<script src="js/levels/RocketLandingNormal.js"></script>
		<script src="js/levels/StabilizeSinglePendulum.js"></script>
		<script src="js/levels/SwingUpSinglePendulum.js"></script>
		<script src="js/main.js"></script>
		<script id="userscript"></script>
	</body>
</html>